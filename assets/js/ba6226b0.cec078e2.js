"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7354],{603905:function(e,t,o){o.d(t,{Zo:function(){return d},kt:function(){return m}});var r=o(667294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)o=s[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var i=r.createContext({}),c=function(e){var t=r.useContext(i),o=t;return e&&(o="function"==typeof e?e(t):a(a({},t),e)),o},d=function(e){var t=c(e.components);return r.createElement(i.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var o=e.components,n=e.mdxType,s=e.originalType,i=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(o),m=n,h=p["".concat(i,".").concat(m)]||p[m]||u[m]||s;return o?r.createElement(h,a(a({ref:t},d),{},{components:o})):r.createElement(h,a({ref:t},d))}));function m(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=o.length,a=new Array(s);a[0]=p;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:n,a[1]=l;for(var c=2;c<s;c++)a[c]=o[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,o)}p.displayName="MDXCreateElement"},708186:function(e,t,o){o.r(t),o.d(t,{frontMatter:function(){return l},contentTitle:function(){return i},metadata:function(){return c},toc:function(){return d},default:function(){return f}});var r=o(487462),n=o(263366),s=(o(667294),o(603905)),a=["components"],l={title:"(PRO) Door sockets"},i=void 0,c={unversionedId:"guides/door-sockets",id:"version-2.0.10/guides/door-sockets",title:"(PRO) Door sockets",description:"In this guide, we will learn about door sockets and how to use them.",source:"@site/versioned_docs/version-2.0.10/guides/door-sockets.md",sourceDirName:"guides",slug:"/guides/door-sockets",permalink:"/Edgar-Unity/docs/guides/door-sockets",editUrl:"https://github.com/OndrejNepozitek/Edgar-Unity/tree/docusaurus/versioned_docs/version-2.0.10/guides/door-sockets.md",tags:[],version:"2.0.10",frontMatter:{title:"(PRO) Door sockets"},sidebar:"docs",previous:{title:"(PRO) Minimap",permalink:"/Edgar-Unity/docs/guides/minimap"},next:{title:"(PRO) Directed level graphs",permalink:"/Edgar-Unity/docs/guides/directed-level-graphs"}},d=[{value:"Introduction",id:"introduction",children:[],level:2},{value:"Example setup",id:"example-setup",children:[{value:"Create a door socket",id:"create-a-door-socket",children:[],level:3},{value:"Use the socket",id:"use-the-socket",children:[],level:3},{value:"Results",id:"results",children:[],level:3}],level:2},{value:"Advanced",id:"advanced",children:[],level:2}],u=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,s.kt)("div",t)}},p=u("Image"),m=u("Path"),h=u("Gallery"),k={toc:d};function f(e){var t=e.components,o=(0,n.Z)(e,a);return(0,s.kt)("wrapper",(0,r.Z)({},k,o,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"In this guide, we will learn about door sockets and how to use them."),(0,s.kt)(p,{src:"2d/guides/door_sockets/result2.png",caption:"Door sockets used to connect normal rooms and skull rooms with special corridors.",mdxType:"Image"}),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},(0,s.kt)("strong",{parentName:"p"},"Note:")," All files from this example can be found at ",(0,s.kt)(m,{path:"2de:DoorSockets",mdxType:"Path"}),".")),(0,s.kt)("h2",{id:"introduction"},"Introduction"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Door sockets are a mechanism to instruct the generator that only some doors are compatible.")," By default, when the generator computes how can two room templates be connected, it looks for doors with the same length. However, that might not always fit our needs. For example, imagine that we have two or more biomes in our game, and we need a special transition corridor to connect these biomes correctly. With the default behaviour, that is not possible because the generator does not know that some doors are not compatible. That is where door sockets come into play. You can assign a door socket to each door, and the generator will connect only doors with the same socket."),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},(0,s.kt)("strong",{parentName:"p"},"Note:")," If you use door sockets in a way that it restricts the generator too much, you can negatively impact the performance of the generator.")),(0,s.kt)("h2",{id:"example-setup"},"Example setup"),(0,s.kt)("p",null,"In this example setup, we will build on the ",(0,s.kt)("a",{parentName:"p",href:"/Edgar-Unity/docs/examples/example-1"},"Example 1")," and introduce a special type of room - the skull room. We will use door sockets to connect normal rooms and skull rooms properly."),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},(0,s.kt)("strong",{parentName:"p"},"Note:")," All files from this example can be found at ",(0,s.kt)("em",{parentName:"p"},"Edgar/Examples/DoorSockets"),".")),(0,s.kt)("h3",{id:"create-a-door-socket"},"Create a door socket"),(0,s.kt)("p",null,"The first step is to create a door socket. We want to have two different door types - normal doors and skull doors. There are two ways of how to approach this. First, we can create a door socket for each door type. Or second, we can utilize the fact that null sockets are not compatible with any other socket and create a door socket just for skull doors. I decided to use the second option because it requires less initial work because we do not have to go through all the already created doors and assign the default socket."),(0,s.kt)("p",null,"To create a door socket, head to ",(0,s.kt)(m,{path:"2d:Door socket",mdxType:"Path"}),", and that will create a new file in your current folder. If you open the file, you will see a colour field that controls the display colour of doors with this socket. I highly recommend using different colours for individual sockets to make it easy to distinguish between different sockets. I decided to use green colour in this example."),(0,s.kt)(p,{src:"2d/guides/door_sockets/socket.png",caption:"Door socket for skull doors",mdxType:"Image"}),(0,s.kt)("h3",{id:"use-the-socket"},"Use the socket"),(0,s.kt)("p",null,"Next, I created a skull room. I used the simple door mode and assigned the skull socket. You can see the result below."),(0,s.kt)(p,{src:"2d/guides/door_sockets/skull_room.png",caption:"Skull room",mdxType:"Image"}),(0,s.kt)("p",null,"If we want to connect this room to normal rooms, we need a corridor with one skull door and one normal door. In fact, if we have both vertical and horizontal corridors and want both transition directions, we need 4 corridor room templates in total."),(0,s.kt)(h,{cols:2,mdxType:"Gallery"},(0,s.kt)(p,{src:"2d/guides/door_sockets/skull_hor_6x1_1.png",mdxType:"Image"}),(0,s.kt)(p,{src:"2d/guides/door_sockets/skull_hor_6x1_2.png",mdxType:"Image"}),(0,s.kt)(p,{src:"2d/guides/door_sockets/skull_ver_1x6_1.png",mdxType:"Image"}),(0,s.kt)(p,{src:"2d/guides/door_sockets/skull_ver_1x6_2.png",mdxType:"Image"})),(0,s.kt)("p",null,"You can also have non-corridor rooms with some doors being skull doors and some doors being normal doors. An example of such room template can be seen below."),(0,s.kt)(p,{src:"2d/guides/door_sockets/skull_room_2.png",caption:"Skull room",mdxType:"Image"}),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},(0,s.kt)("strong",{parentName:"p"},"Note:")," For this room template, you can no longer use the simple door mode as it allows only a single socket. Instead, you have to use the manual or hybrid door modes. Also, it is good to use the ",(0,s.kt)("strong",{parentName:"p"},"Default socket for new doors")," field instead of creating doors without a socket and that assigning the correct socket manually. First, let the field null and create all the default doors. Then, switch the socket to the Skull socket and add all the remaining doors.")),(0,s.kt)("h3",{id:"results"},"Results"),(0,s.kt)(p,{src:"2d/guides/door_sockets/result1.png",mdxType:"Image"}),(0,s.kt)("h2",{id:"advanced"},"Advanced"),(0,s.kt)("p",null,"The default socket implementation considers two doors to be compatible if the sockets are equal (i.e. they are the same instance of the same scriptable object). If you need more control over this, you can implement your own socket class that inherits from the ",(0,s.kt)("inlineCode",{parentName:"p"},"DoorSocketBase")," class and provide an implementation of the ",(0,s.kt)("inlineCode",{parentName:"p"},"IsCompatibleWith(IDoorSocket otherSocket)")," method. "),(0,s.kt)("p",null,"The rules of deciding if two sockets are compatible are as follows:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"If both sockets are null, they are compatible"),(0,s.kt)("li",{parentName:"ul"},"If one socket is null, the other socket decides whether they are compatible"),(0,s.kt)("li",{parentName:"ul"},"If no socket is null",(0,s.kt)("ul",{parentName:"li"},(0,s.kt)("li",{parentName:"ul"},"both sockets must agree on the same outcome (of whether they are compatible or not)"),(0,s.kt)("li",{parentName:"ul"},"if they disagree, an exception is thrown")))))}f.isMDXComponent=!0}}]);