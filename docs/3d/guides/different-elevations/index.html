<!doctype html>
<html class="docs-version-2.0.6" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-31904365-17","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Edgar - Unity" href="/Edgar-Unity/opensearch.xml"><title data-react-helmet="true">Different room/door elevations | Edgar - Unity</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://ondrejnepozitek.github.io/Edgar-Unity/docs/3d/guides/different-elevations/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="2.0.6"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-2.0.6"><meta data-react-helmet="true" property="og:title" content="Different room/door elevations | Edgar - Unity"><meta data-react-helmet="true" name="description" content="While it is not possible to have a level where one room is on top of another room (multi-story generation), it is possible to have rooms at different elevation levels (y axis). The goal of this guide is to show you how to control the elevation of rooms and what needs to be done if there are cycles/loops in a level graph."><meta data-react-helmet="true" property="og:description" content="While it is not possible to have a level where one room is on top of another room (multi-story generation), it is possible to have rooms at different elevation levels (y axis). The goal of this guide is to show you how to control the elevation of rooms and what needs to be done if there are cycles/loops in a level graph."><link data-react-helmet="true" rel="icon" href="/Edgar-Unity/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://ondrejnepozitek.github.io/Edgar-Unity/docs/3d/guides/different-elevations/"><link data-react-helmet="true" rel="alternate" href="https://ondrejnepozitek.github.io/Edgar-Unity/docs/3d/guides/different-elevations/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://ondrejnepozitek.github.io/Edgar-Unity/docs/3d/guides/different-elevations/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/Edgar-Unity/assets/css/styles.101d6687.css">
<link rel="preload" href="/Edgar-Unity/assets/js/runtime~main.8331c467.js" as="script">
<link rel="preload" href="/Edgar-Unity/assets/js/main.d5a6461c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">Check out the PRO version of the generator on the <a href="https://assetstore.unity.com/packages/tools/utilities/edgar-pro-procedural-level-generator-212735?aid=1100lozBv&pubref=edgar-docs" target="_blank">Unity Asset Store</a>!</div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Edgar-Unity/"><b class="navbar__title">Edgar - Unity</b></a><a class="navbar__item navbar__link" href="/Edgar-Unity/versions/">v2.0.6</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/Edgar-Unity/docs/introduction/">Docs</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/Edgar-Unity/docs/introduction/">2.0.6</a></li><li><a class="dropdown__link" href="/Edgar-Unity/docs/2.0.5/introduction/">2.0.5</a></li><li><a class="dropdown__link" href="/Edgar-Unity/docs/2.0.4/introduction/">2.0.4</a></li><li><a class="dropdown__link" href="/Edgar-Unity/docs/next/introduction/">Master/Unreleased</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/Edgar-Unity/docs/3d/introduction/">Docs (3D version beta)</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/Edgar-Unity/docs/3d/introduction/">2.0.6</a></li><li><a class="dropdown__link" href="/Edgar-Unity/docs/3d/2.0.5/introduction/">2.0.5</a></li><li><a class="dropdown__link" href="/Edgar-Unity/docs/3d/2.0.4/introduction/">2.0.4</a></li><li><a class="dropdown__link" href="/Edgar-Unity/docs/next/3d/introduction/">Master/Unreleased</a></li></ul></div><a href="https://github.com/OndrejNepozitek/Edgar-Unity/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></span><span class="DocSearch-Button-Key">K</span></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO menuWithAnnouncementBar_x19h"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_QVir">(PRO) Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/introduction/">Introduction</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_QVir">(PRO) Basics</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/basics/quickstart/">Quickstart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/basics/generator-settings/">Generator settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/basics/room-templates/">Room templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/basics/level-graphs/">Level graphs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/basics/generator-setup/">Generator setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/basics/performance-tips/">Performance tips</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_QVir">(PRO) Generators</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/generators/dungeon-generator/">Dungeon generator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/generators/post-processing/">Post-processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/generators/custom-input/">Custom input</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_QVir">(PRO) Examples</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/examples/basics/">Basics (step-by-step tutorial)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/examples/dungeon-1/">Dungeon 1</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active menuLinkText_QVir" aria-current="page">(PRO) Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Edgar-Unity/docs/3d/guides/different-elevations/">Different room/door elevations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/guides/door-sockets/">Door sockets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/guides/directed-level-graphs/">Directed level graphs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/3d/guides/custom-editor-controls/">Custom editor controls</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->2.0.6</span><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Different room/door elevations</h1></header><p>While it is not possible to have a level where one room is on top of another room (multi-story generation), it is possible to have rooms at different elevation levels (y axis). The goal of this guide is to show you how to control the elevation of rooms and <strong>what needs to be done if there are cycles/loops in a level graph</strong>.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/intro-7175cf347af98bb8703f3d65a1cd0899.png" width="1363" height="319"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Side view example of a very simple level where the next room is always 1 meter higher than the previous one (caused by the corridor with a purple ramp)</div></div><blockquote><p><strong>Note:</strong> All files from this example can be found at <i class="path">Examples/Grid3D/DifferentElevations</i>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_mojV" id="basics">Basics<a class="hash-link" href="#basics" title="Direct link to heading">â€‹</a></h2><p>The core idea of having rooms at different elevation levels is relatively simple. You just have to place doors that are positioned at different <em>y coordinates</em> and the generator will try to figure out the correct elevation of each room. The end goal is that if two rooms are connected by doors, the doors must align correctly in all three dimensions. If that means that one room needs to be higher than another one, the generator will position the room for you.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/corridor_example-1e45821c23a7c50258708c9bb793020e.png" target="_blank"><img src="/Edgar-Unity/assets/images/corridor_example-1e45821c23a7c50258708c9bb793020e.png" alt="image" width="1363" height="718" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Corridor room template with different door elevations</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/room_example-dd5099405668140fb97ab0f86b9bc09c.png" target="_blank"><img src="/Edgar-Unity/assets/images/room_example-dd5099405668140fb97ab0f86b9bc09c.png" alt="image" width="1368" height="716" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Room template with different door elevations</div></div></div><p>If you use the two room templates above to generate a level, you will get something similar to what you can see in the image below. You can see that all the doors are properly aligned to the doors of the neighbouring rooms/corridors.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/basic_result-98debfdf558fcc782724f8d0adece1c9.png" width="1362" height="747"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Example of an acyclic level with doors (and rooms) at different elevation levels</div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="cycles-in-level-graphs-and-their-challenges">Cycles in level graphs (and their challenges)<a class="hash-link" href="#cycles-in-level-graphs-and-their-challenges" title="Direct link to heading">â€‹</a></h2><p>The above example worked out-of-the-box because there were no cycles (loops) in the corresponding level graph. The problem is that the underlying generator algorithm works completely in 2D, which means that it does not know/care about elevations of individual loops. When there are no loops, the problem is quite simple. We can go through the rooms in a clever order and just fix their elevations one by one. </p><p>But imagine that you have a cycle in your level graph - I will use the level graph below as an example. There is a cycle with 6 rooms. If you are unlucky, the generator can randomly choose that the next room is always 1 meter higher than the previous room. That means that <em>Room 1</em> would be positioned at <em>y = 0</em> and <em>Room 6</em> at <em>y = 5</em>. If that happens, the generator cannot connect rooms 1 and 6 and will throw an exception. Moreover, the generator can sometimes succeed and sometimes fail, depending on which combination of room templates it randomly chooses.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/cycle_graph-468d5a250716e3d98f506aa7f8d52307.png" width="692" height="287"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Problematic level graph with a cycle</div></div><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/cycle_wrong-1d56564f2758b1b2d6582a625863a41b.png" target="_blank"><img src="/Edgar-Unity/assets/images/cycle_wrong-1d56564f2758b1b2d6582a625863a41b.png" alt="image" width="1364" height="750" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Unlucky attempt - Exactly 1 elevation-changing corridor was chosen, making it impossible to fix room elevations</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/cycle_correct-16155974a376fdac5d6535fd16992230.png" target="_blank"><img src="/Edgar-Unity/assets/images/cycle_correct-16155974a376fdac5d6535fd16992230.png" alt="image" width="1362" height="749" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Lucky attempt - 2 elevation-changing corridors with good orientations were chosen, producing a valid level</div></div></div><p>The rest of this guide is dedicated to various strategies of having different elevations while using level graphs with cycles.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="option-1-avoid-elevation-changes-inside-cycles">Option 1: Avoid elevation changes inside cycles<a class="hash-link" href="#option-1-avoid-elevation-changes-inside-cycles" title="Direct link to heading">â€‹</a></h2><p>The simplest (and also the most restrictive) solution is to completely avoid all elevation changes for rooms and corridors that are inside level graph cycles. This can be done automatically by ticking the <code>FixElevationsInsideCycles</code> checkbox inside the <code>Input Config</code> section of the dungeon generation, or by manually calling <code>levelDescription.FixElevationsInsideCycles();</code> if using custom input setup. What this is feature does is that it finds all the room templates with potential elevation changes and bans them for rooms and corridors that are inside cycles. </p><p>The obvious downside of this solution is that you will end up with no elevation changes insides cycles, which may or may not be desirable based on your level design.</p><blockquote><p><strong>Note:</strong> With this approach, you have to make sure that you provide enough room templates without any elevation changes for both rooms and corridors.</p></blockquote><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/no_elevations_inside_cycles_result-0857d5f5b05501156bc075641af409b2.png" width="1365" height="752"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Example level with no elevation changes inside the central cycle</div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="option-2-door-sockets-for-different-elevations">Option 2: Door sockets for different elevations<a class="hash-link" href="#option-2-door-sockets-for-different-elevations" title="Direct link to heading">â€‹</a></h2><p>Another possible approach is to use door sockets to mark doors at different elevations. The main idea is that the number of different elevation levels is limited. For example, you might have Elevation 0 (ground level) and Elevation 1 (1 meter above ground). Next, create a door socket for each elevation level and assign these sockets to doors based on their elevations. Below is an example of a few room templates using this approach.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/sockets_room_1-056851f05a4da19df7d003d8f7622e28.png" target="_blank"><img src="/Edgar-Unity/assets/images/sockets_room_1-056851f05a4da19df7d003d8f7622e28.png" alt="image" width="1364" height="718" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Room template that connects Elevation 0 and Elevation 1</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/sockets_room_2-061740257b6a258a77e1ac6310b240ea.png" target="_blank"><img src="/Edgar-Unity/assets/images/sockets_room_2-061740257b6a258a77e1ac6310b240ea.png" alt="image" width="1366" height="717" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Room template that is completely at Elevation 1</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/sockets_corridor_1-f502fde0e45fbbac24be94c0fca4cab9.png" target="_blank"><img src="/Edgar-Unity/assets/images/sockets_corridor_1-f502fde0e45fbbac24be94c0fca4cab9.png" alt="image" width="1364" height="718" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Corridor that connects Elevation 0 and Elevation 1</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/sockets_corridor_2-a9a178a311acbe00328b269fc9b682e6.png" target="_blank"><img src="/Edgar-Unity/assets/images/sockets_corridor_2-a9a178a311acbe00328b269fc9b682e6.png" alt="image" width="1365" height="721" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Corridor &#x27;bridge&#x27; that is completely at Elevation 1</div></div></div><p>This approach can never lead to generating a level with incorrect elevations because the whole problem was basically transformed to the problem of socket resolution. You can see an example generated level below.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/sockets_result-edb571b3ab7e4f76a679604407d03206.png" width="1358" height="747"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Example cyclic level generated using door sockets marking different elevations</div></div><blockquote><p><strong>Note:</strong> This approach should be used only if you have a very limited number of different elevation levels, ideally only <em>2</em> (the same as in the example above) or at most 3.</p></blockquote><blockquote><p><strong>Note:</strong> It is easy to force different parts of the level to be at different elevations. Just pick two rooms in the level graph and give them room templates with different elevations, forcing the generator to work with that.</p></blockquote><blockquote><p><strong>Note:</strong> Make sure to provide enough room templates for all elevation levels and also enough transition room templates that go from one elevation to another.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_mojV" id="option-3-manual-elevation-changing-corridors">Option 3: Manual elevation-changing corridors<a class="hash-link" href="#option-3-manual-elevation-changing-corridors" title="Direct link to heading">â€‹</a></h2><p>Another possible approach is to manually place corridors that connect rooms with different elevations. For this guide, I will assume that only corridor can have doors at different elevations.</p><p>The first step is to create an elevation-changing corridor. For this approach to work, you also have to mark one door (e.g. the lower one) as <em>Entrance</em> and the other one (the upper one) as <em>Exit</em>. The result should look like this:</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/directed_corridor-12123703683a3deb970f07b8997f081e.png" width="1361" height="718"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Elevation-changing corridor with the lower door marked as Entrance and the upper door marked as Exit.</div></div><p>Next, create a level graph but make sure to enable the <code>Is Directed</code> checkbox. Then, when creating a cycle in the level graph, orient the edges so that they go in the direction of increasing (or more precise <em>non-decreasing</em>) elevation. My level graph looks like this:</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/directed_level_graph-a417627370114009708eb466c35f9c9c.png" width="1084" height="475"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Cyclic level graph which is oriented to go from low elevations in Room 1 to higher elevations in Room 4</div></div><p>With this level graph, we basically want to say that <em>Room 4</em> should be positioned higher than <em>Room 1</em>. The way we will achieve that is by manually picking some of the oriented connections and telling the generator that the corridor room template from the previous step must be used.</p><p>For this guide, I choose the connection <em>Room 1</em> -&gt; <em>Room 2</em> to go 1 meter up, and assigned the correct room template. However, if you choose one connection to go up, you also need to pick another one to go down. Therefore, I did the same setup for the connection <em>Room 1</em> -&gt; <em>Room 6</em> to balance the height differences.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/directed_result_1-07bb12be2b6229a2d5c74848d06ac826.png" width="1360" height="747"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Result of assigning the elevation-changing room template for the corridors leading from Room 1 (bottom-left)</div></div><p>You are not limited to have only 2 elevation-changing corridors in the whole cycle - you can use any number, just make sure that you always balance the number of corridors going up and down. Below you can see an example of also changing elevations for connections <em>Room 3</em> -&gt; <em>Room 4</em> and <em>Room 5</em> -&gt; <em>Room 4</em>.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/directed_result_2-b1d9246278c71ce5e0440542805227c7.png" width="1358" height="748"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Result of a setup with 2 pairs of elevation-changing corridors</div></div><p>When done correctly, this approach also ensures that all the generated levels have correct elevation changes.</p><blockquote><p><strong>Note:</strong> This approach is harder to set up than the previous approaches. But if you really want to go this way, you can use a custom input setup and randomize which connections are elevation-changing.</p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/OndrejNepozitek/Edgar-Unity/tree/docusaurus/versioned_docs/version-2.0.6/3d/guides/different-elevations.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Edgar-Unity/docs/3d/examples/dungeon-1/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Dungeon 1</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Edgar-Unity/docs/3d/guides/door-sockets/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Door sockets</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#basics" class="table-of-contents__link toc-highlight">Basics</a></li><li><a href="#cycles-in-level-graphs-and-their-challenges" class="table-of-contents__link toc-highlight">Cycles in level graphs (and their challenges)</a></li><li><a href="#option-1-avoid-elevation-changes-inside-cycles" class="table-of-contents__link toc-highlight">Option 1: Avoid elevation changes inside cycles</a></li><li><a href="#option-2-door-sockets-for-different-elevations" class="table-of-contents__link toc-highlight">Option 2: Door sockets for different elevations</a></li><li><a href="#option-3-manual-elevation-changing-corridors" class="table-of-contents__link toc-highlight">Option 3: Manual elevation-changing corridors</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Edgar-Unity/docs/introduction/">Introduction</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/OndrejNepozitek" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/syktZ6VWq9" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://ondra.nepozitek.cz/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/OndrejNepozitek/Edgar-Unity" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 OndÅ™ej NepoÅ¾itek</div></div></div></footer></div>
<script src="/Edgar-Unity/assets/js/runtime~main.8331c467.js"></script>
<script src="/Edgar-Unity/assets/js/main.d5a6461c.js"></script>
</body>
</html>