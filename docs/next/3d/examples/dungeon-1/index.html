<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-31904365-17","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Edgar - Unity" href="/Edgar-Unity/opensearch.xml"><title data-react-helmet="true">Dungeon 1 | Edgar - Unity</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://ondrejnepozitek.github.io/Edgar-Unity/docs/next/3d/examples/dungeon-1/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Dungeon 1 | Edgar - Unity"><meta data-react-helmet="true" name="description" content="The goal of this tutorial is to show you a more realistic setup of the 3D generator. You can also see a GIF of this setup in this tweet."><meta data-react-helmet="true" property="og:description" content="The goal of this tutorial is to show you a more realistic setup of the 3D generator. You can also see a GIF of this setup in this tweet."><link data-react-helmet="true" rel="icon" href="/Edgar-Unity/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://ondrejnepozitek.github.io/Edgar-Unity/docs/next/3d/examples/dungeon-1/"><link data-react-helmet="true" rel="alternate" href="https://ondrejnepozitek.github.io/Edgar-Unity/docs/next/3d/examples/dungeon-1/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://ondrejnepozitek.github.io/Edgar-Unity/docs/next/3d/examples/dungeon-1/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/Edgar-Unity/assets/css/styles.101d6687.css">
<link rel="preload" href="/Edgar-Unity/assets/js/runtime~main.8331c467.js" as="script">
<link rel="preload" href="/Edgar-Unity/assets/js/main.d5a6461c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">Check out the PRO version of the generator on the <a href="https://assetstore.unity.com/packages/tools/utilities/edgar-pro-procedural-level-generator-212735?aid=1100lozBv&pubref=edgar-docs" target="_blank">Unity Asset Store</a>!</div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Edgar-Unity/"><b class="navbar__title">Edgar - Unity</b></a><a class="navbar__item navbar__link" href="/Edgar-Unity/versions/">v2.0.6</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/Edgar-Unity/docs/introduction/">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Edgar-Unity/docs/introduction/">2.0.6</a></li><li><a class="dropdown__link" href="/Edgar-Unity/docs/2.0.5/introduction/">2.0.5</a></li><li><a class="dropdown__link" href="/Edgar-Unity/docs/2.0.4/introduction/">2.0.4</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/Edgar-Unity/docs/next/introduction/">Master/Unreleased</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/Edgar-Unity/docs/3d/introduction/">Docs (3D version beta)</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Edgar-Unity/docs/3d/introduction/">2.0.6</a></li><li><a class="dropdown__link" href="/Edgar-Unity/docs/3d/2.0.5/introduction/">2.0.5</a></li><li><a class="dropdown__link" href="/Edgar-Unity/docs/3d/2.0.4/introduction/">2.0.4</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/Edgar-Unity/docs/next/3d/introduction/">Master/Unreleased</a></li></ul></div><a href="https://github.com/OndrejNepozitek/Edgar-Unity/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></span><span class="DocSearch-Button-Key">K</span></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO menuWithAnnouncementBar_x19h"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_QVir">(PRO) Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/introduction/">Introduction</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_QVir">(PRO) Basics</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/basics/quickstart/">Quickstart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/basics/generator-settings/">Generator settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/basics/room-templates/">Room templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/basics/level-graphs/">Level graphs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/basics/generator-setup/">Generator setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/basics/performance-tips/">Performance tips</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_QVir">(PRO) Generators</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/generators/dungeon-generator/">Dungeon generator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/generators/post-processing/">Post-processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/generators/custom-input/">Custom input</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active menuLinkText_QVir" aria-current="page">(PRO) Examples</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/examples/basics/">Basics (step-by-step tutorial)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Edgar-Unity/docs/next/3d/examples/dungeon-1/">Dungeon 1</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_QVir">(PRO) Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/guides/different-elevations/">Different room/door elevations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/guides/door-sockets/">Door sockets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/guides/directed-level-graphs/">Directed level graphs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/3d/guides/custom-editor-controls/">Custom editor controls</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Edgar - Unity<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/Edgar-Unity/docs/3d/examples/dungeon-1/">latest version</a></b> (<!-- -->2.0.6<!-- -->).</div></div><div class="docItemContainer_vinB"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->Next</span><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Dungeon 1</h1></header><p>The goal of this tutorial is to show you a more realistic setup of the 3D generator. You can also see a GIF of this setup in <a href="https://twitter.com/OndrejNepozitek/status/1507377003200233472" target="_blank" rel="noopener noreferrer">this tweet</a>.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/result_2_4-e3236989a796bd93320de11df1aceb2d.png" target="_blank"><img src="/Edgar-Unity/assets/images/result_2_4-e3236989a796bd93320de11df1aceb2d.png" alt="image" width="1477" height="718" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Example result</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/result_5_4-86e92b62ba4ed41144094be2eccc64e7.png" target="_blank"><img src="/Edgar-Unity/assets/images/result_5_4-86e92b62ba4ed41144094be2eccc64e7.png" alt="image" width="1477" height="721" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Example result</div></div></div><blockquote><p><strong>Note:</strong> All files from this example can be found at <i class="path">Examples/Grid3D/Dungeon1</i>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_mojV" id="simple-example">Simple example<a class="hash-link" href="#simple-example" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="models">Models<a class="hash-link" href="#models" title="Direct link to heading">â€‹</a></h3><p>For this tutorial, I am going to use the <a href="https://quaternius.com/packs/modulardungeon.html" target="_blank" rel="noopener noreferrer">Modular Dungeons Pack</a> by <a href="https://twitter.com/quaternius" target="_blank" rel="noopener noreferrer">@Quaternius</a>. Be sure to check them out if you like the models.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/models-d25924e186c1a2b3fa7abd4d54a81a59.png" width="1920" height="400"></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="blocks">Blocks<a class="hash-link" href="#blocks" title="Direct link to heading">â€‹</a></h3><p>The first step that I always do is I create prefabs for the base building blocks - floors and walls. The main goal is to make sure that they interact well together and that they can be snapped to the grid easily.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/blocks-992438d8a7661135a0001ac281fd2299.png" width="1090" height="573"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Floor block, wall block, and how they interact together</div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="generator-settings">Generator settings<a class="hash-link" href="#generator-settings" title="Direct link to heading">â€‹</a></h3><p>The next step is to create an instance of the <code>GeneratorSettings</code> scriptable object to configure the size of the grid that will be used for the level. The sizes of the floor tile model is <code>2x2</code> units, therefore, I am going to configure the grid to be <code>2x2</code> units wide.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/generator_settings-fbeb3f98694adab1bd1b51e7de85d54c.png" width="689" height="152"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Setup of the Generator settings object</div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="room-template">Room template<a class="hash-link" href="#room-template" title="Direct link to heading">â€‹</a></h3><p>The next step is to create the first room template. I usually start with something simple to make sure that all the blocks work together.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/room_2_no_doors-577f9399137a4e2792e43a1a8060f2f1.png" width="1181" height="555"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Basic room template</div></div><blockquote><p><strong>Note:</strong> The yellow outline gizmo is shown below the room template because the floor blocks are positioned with <code>y &lt; 0</code>, thus being part of another layer of tiles.</p></blockquote><p>As always, make sure to leave enough holes for doors to be added in the next step.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="door-prefab">Door prefab<a class="hash-link" href="#door-prefab" title="Direct link to heading">â€‹</a></h3><p>The next step is to create a prefab for our doors. I am going to use the Arch model that you can see below.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/arch-73aa1c14303703593494f00c7fb1155b.png" width="1090" height="573"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">The Arch model that will be used for doors</div></div><p>The Arch is 4 units longs which means that our door should be 2 tiles wide. Create a new door prefab <i class="path">(Create â†’ Edgar (Grid3D) â†’ Door)</i>, assign the generator settings, set the width to 2 tiles. Next, create a child game object, call it <em>Connector</em> and place the arch inside it. Align the arch properly. And finally, assign the <em>Connector</em> object to the <em>Connectors</em> section of the door inspector. The result should look like this: (check the <a href="/Edgar-Unity/docs/next/3d/examples/basics/">Basics</a> example if this part is too fast for you)</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/door_connector-01bead19fdf83ed344c88417c5265a7b.png" width="1515" height="575"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Door setup with the arch connector</div></div><p>It is important to align the connector properly. This is what works for this setup:</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/door_side-635b93216c0f9ee3d6c8924cce1d855e.png" target="_blank"><img src="/Edgar-Unity/assets/images/door_side-635b93216c0f9ee3d6c8924cce1d855e.png" alt="image" width="1181" height="555" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Alignment side view</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/door_top-1ea37a3de46b9fb71a26d9f7c09748a7.png" target="_blank"><img src="/Edgar-Unity/assets/images/door_top-1ea37a3de46b9fb71a26d9f7c09748a7.png" alt="image" width="1181" height="555" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Alignment top view</div></div></div><p>Next, it is time to add a door blocker. I am going to set up the wall block to be used when a door opening was not chosen by the generator. Make sure to align the blocker inside the green door gizmo.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/door_blocker-611a05f28b7386a2cd33340d9132ca45.png" width="1513" height="601"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Complete door setup</div></div><p>Next, place the door prefab inside all the holes that we left in the room template. Make sure to adjust the <code>Repeat</code> parameter so that each door covers the whole hole inside the wall.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/room_2-49cd4bb786060847d3d5bae812105f3e.png" width="1181" height="555"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Room template with doors</div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="corridor">Corridor<a class="hash-link" href="#corridor" title="Direct link to heading">â€‹</a></h3><p>The next step is to create a corridor. Now that we have the door prefab prepared, it is just a matter of building/designing the actual corridor and placing the doors.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/corridor_1-fbd3c785ba013fe70e5da33277d939c6.png" width="1181" height="555"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Basic corridor room template</div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="level-graph">Level graph<a class="hash-link" href="#level-graph" title="Direct link to heading">â€‹</a></h3><p>The last step in this basic setup is to create a simple level graph and use the two room templates that we created. As I mentioned previously, it is a good idea to start simple to make sure that the base setup works, any only add more complexity later.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/level_graph-dfa82131292131f9b709ddedd6cc6c34.png" width="1479" height="719"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Very simple level graph</div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="results">Results<a class="hash-link" href="#results" title="Direct link to heading">â€‹</a></h3><p>We are now ready to generate our first levels. The resulting levels are relatively simple, but there is already happening quite a lot under the hood. We can see that the door connectors are aligned properly, unused door positions are filled with door blockers, and the generator should be quite fast because the level is really simple.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/result-051eec6ea377072f8d3c7a70de43f555.png" width="1469" height="717"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Generated level</div></div><blockquote><p><strong>Note:</strong> I know that the shadows and lightning do not make sense if it is an underground dungeon, but I think it is good enough for the purposes of this tutorial.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_mojV" id="real-life-example">Real-life example<a class="hash-link" href="#real-life-example" title="Direct link to heading">â€‹</a></h2><p>For the next part of this tutorial, I want to make the levels more realistic by adding additional room template and improving the level graph structure. </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="additional-room-templates">Additional room templates<a class="hash-link" href="#additional-room-templates" title="Direct link to heading">â€‹</a></h3><p>Below are some of the room templates that I created for this part of the tutorial. Note how I add door openings to all places where it makes sense, because I need the generator perform really well as I plan to increase the complexity of the level in the <a href="#extra-stuff">Extra stuff</a> section.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/bedroom-2bfe5d596027a5f4ccee1ae6056b12f9.png" target="_blank"><img src="/Edgar-Unity/assets/images/bedroom-2bfe5d596027a5f4ccee1ae6056b12f9.png" alt="image" width="1181" height="555" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Bedroom</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/prison-2c78dda6df5c24369fbb63d6e1a879a0.png" target="_blank"><img src="/Edgar-Unity/assets/images/prison-2c78dda6df5c24369fbb63d6e1a879a0.png" alt="image" width="1181" height="555" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Prison</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/hub-b146cfba47a524c3416c2a55954442fb.png" target="_blank"><img src="/Edgar-Unity/assets/images/hub-b146cfba47a524c3416c2a55954442fb.png" alt="image" width="1181" height="555" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Hub</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/treasure-cf6e1567dc8d2c75d443b8e4032e24b0.png" target="_blank"><img src="/Edgar-Unity/assets/images/treasure-cf6e1567dc8d2c75d443b8e4032e24b0.png" alt="image" width="1181" height="555" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Treasure</div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="custom-input-setup">Custom input setup<a class="hash-link" href="#custom-input-setup" title="Direct link to heading">â€‹</a></h3><p>When working on any non-trivial level with Edgar, I recommend using <a href="/Edgar-Unity/docs/next/basics/level-graphs/#pro-custom-rooms-and-connections">Custom rooms and connection</a> together with <a href="/Edgar-Unity/docs/next/generators/custom-input/">Custom input setup</a>. By using these 2 features, you get much more control of the whole generator setup. For example, when working with a larger number of room templates, it is a good idea to not assign room templates to rooms directly, but rather assign a type to each room and control room templates based on that type. By doing so, you can introduce more variation to individual room types without having to configure rooms individually.</p><p>The first step is creating classes for the custom rooms and connection. You can see the code below. Once you have these classes ready, you have to open your level graph and configure it so that it uses your custom implementation. If you already have some rooms in your level graph, it is a good idea to delete all of them as they were created with the default rooms and connections implementation. </p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LplD tabs__item--active">Custom room</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LplD">Custom connection</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar" style="color:#cccccc;background-color:#242424"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#cccccc"><span class="token plain">namespace Edgar.Unity.Examples.Grid3D.Dungeon1</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">{</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    public class Dungeon1Room : RoomBase</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        // Type of the room</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public RoomType Type = RoomType.Basic;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        // Enum for all types of rooms</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public enum RoomType</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            Basic = 0, Boss = 1, BossEntrance = 2, Social = 5, </span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            Entrance = 7, Cave = 8, Trap = 9, Hub = 10</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        // This method will not be used as we use a custom logic</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public override List&lt;GameObject&gt; GetRoomTemplates()</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            throw new System.NotImplementedException();</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        // Use the RoomType enum as display name</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public override string GetDisplayName()</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            return Type.ToString();</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar" style="color:#cccccc;background-color:#242424"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#cccccc"><span class="token plain">namespace Edgar.Unity.Examples.Grid3D.Dungeon1</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">{</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    public class Dungeon1Connection : ConnectionBase</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        // Whether a corridor should be used or a direct room-to-room connection</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public bool IsCorridor = true;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></div><p>Once your custom rooms and connections are ready, you should be able to pick a room type when you configure a room in the level graph editor window.</p><div style="text-align:center"><div class="image-inner"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlUAAACiCAYAAABoDjg6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAACQSSURBVHhe7d35d1TXme7x+28kayUryYoTO/ayg2NAKo0INCCQADEjISYzC4GYBAIEeGAykx3HmMkOGIyHYEyDjW2wGR3PNmC348SxY8dO36T79s3tdKdzOze93qtnk10+VToqlaTSUMX3h89S1dnvOVUS62yes/euU//ja1/7mgEAAKBrCFUAAAAp4EJVbm4uMsi3vvUtu+GGG+wHP/iB3XjjjQAAoJvo/9tvfOMbhKpMp39sghUAAN1PwYpQlcH69evnEnTYPz4AAEgd/X9LqMpg/fv3d1OBYf/4AAAgtQhVGY5QBQBAzyBUZThCFQAgU9xxxx126dKlGPv27QutTVZlZWX0WHocVpOsLoeqnJwcy87OtqysLEePtS2sFj2PUAUAyAQ333yzPf744y78NDU1WWNjYzQM3XTTTaH7JGPhwoXR4+hxWE2yuhSqhg4davv377dTp07Z+fPnHT3WNrWF7RNv165d9uMf/zi0LR0UFRXZyJEjQ9v6AkIVACBTKUwdPHjQCWtP1nPPPeeEtXVEp0NVQ0ODnTt3ziW7V155xUaNGuXosbapTTVh+wYdOHDADd2FtaWDuXPn2rvvvhva1hcQqgAAmWz27Nkud4S19bROhSqNQvlAJS+88EK0TY/9dtW0N2IVH6rGjBljJSUlNmjQIJsyZYqNHTvW8vLyYvaRwsJCq62tdTRaFGwLHmPq1Kk2ceLE0GPIiBEjXE15eXlou6hm+vTpbq41uH3YsGG2evVqF6omTJjg6oLtej5t2jSrqKiI2S7+PZaWltqsWbPc4/iaVCBUAQAyWSpClY4hYW0d0eFQpfVSmt7zwUkuXLhgDz74oP3kJz9xj4Ntqk20xio+VJ0+fdq2bNnijiOXL1+2p59+2oUoX6Og8vOf/9xNN549e9Zee+01F8CCx7j77rvt5Zdfdu/h7bffdmEvGHoUxPTaCkQ6jl5nz549lp+f36rmypUr0fei91pQUODa9Rp67atXr7p27a/tgwcPdkOR7733nguW+qn9FPL8sfUeH3jgAXvzzTftjTfecOHQt6USoQoAkMm6Gqr8/tLVYNXhUKWF6Fo35d+AKDgcOnTICY5giWq1T9ixJCxU6RiaStTzcePGuVCkBWm+5sUXX7Rt27ZFn2/evLnVMRRWZs6c6Z4r5Bw+fNiOHz8erXnooYfccTTapOcaObp48aKtX78+WqP1XjqWD2NVVVXud1qzZk20Jmz67+GHH445tvZXwNu5c2e0xv+eGonz27oDoQoAkO70/3EwW4RRTdi+7enVUKVP+GlkJ/iLKEz5dj0OtqlW+wSPERQWqjZu3BhTo1Gf4GJ2hREFqWBNkI6xd+/emG1aTK4RJYU0hSwFIY14BWvWrVvnQqAeDxkyxNUoNAVrFIJ0DP88PlS1td+iRYtc0PMjbnqPGukK1nQHQhUAIN0pT4RtD0qmpi0KU10NVNInQ9XKlStjajSt5qfWRAvgFVw0+qMRJ/0hgvU6RnNzc8w20VRdfX29W/+kgHXs2DE7evRolEaXFHxUq3VYqmlvTVh8qPL7+VEqT+uxtN2PwIX9nt2BUAUASHfKE2Hbg5Kp6W4dDlVh03+JQlVnpv/aC1VSVlZmy5YtcyNSmh4MtusYwWk8T4Gprq4uGqqWL19uCxYsiKF21fqa4cOHtzpOUHyoGj9+vNsvflG7pgC13U8lEqoAAEiO8kTY9qBkatrSa7dUCFuonihUdWahenuhSqM9wU/zzZs3zwUW/ylAHSP4nsSHJO2runfeecfmzJkTU6Og5qfntKhcYS3+thD6FGBw2jA+VPn9dAMxv00U4DRS5hfCE6oAAEiO8kTY9qBkasL0+s0/42+pcOTIETfFJ3rst6umo7dUaC9UFRcXu0CkkSgFKwUkTQFqkbkPWjqGRqW0uF0hSaNGJ06csCeeeCJ6zPvvv9/dU6umpsbtp7ClTwhqkbmv2bFjh/tUnz6ZpxrdekGf1Fu6dGm0RvsrrCnYKZRpmxbR63f3t3JQjf4eGzZsiO5HqAIAIDknT56MZou2qCZs3/YoI/hj6HFYTbI6FaokePPPMGrrzM0/2wtVoik6vYZGiHS7gzNnzsTckkDH0CJwrZnSbRAUep588slo6BGFLd3SQMdQjY6j96KF5r5Gt07QAnndEkE1qg1+6tDTp/pUo3VZfj+FNn9shcD77rsvGvqEUAUAQGbpdKgSjUJpek/rprQgXfRY29oboeoqTaMpUYbdWDMYWLSGKdF70UiXRqmCYSqeanQ7BT+9GEbTfvpUYXCbP3bw/lQ9jVAFAEDP6FKoEq2X0kJ0P/2nx4nWUPWEnhoFSgeEKgAAekaXQ1VfRKj6CqEKAIDup/9vMzJUaSov+LU216v+/fsTqgAA6AHf/va3MzNU4Zp+/frZDTfcEPqPDwAAuub73/+++3/2O9/5jn3zm98kVGUy/YN/73vfc6NVAAAg9TRCpUClPEWoAgAASAFCFQAAQAoQqgAAAFKAUAUAAJAChCoAAIAUIFQBAACkAKEKAAAgBQhVAAAAKUCoAgAASIEeCVWRnBzLzsmzgX8XadmW07ItrBYAAGQ+5YDs7GzLyspy9DiV2UDH0nG7csxIJBJ9f3ocVhPUbaFKv4TCVFZuvhWOGGel0+tt6NxGK5uzzEomz7LI4NKWoEW4AgDgejN06FDbv3+/nTp1ys6fP+/osbapLWyfjtqwYYOdO3fO/QxrT8aePXvs0qVLzt69e0NrgrolVF0bmcq1QRVVNmPXUVvx2u+t+er/tTVX/rPFX6z5g7/aohOXrXJ+o+UOGuzSH+EKAIDM19DQ4MKOgoqC1IEDB+zgwYN28uRJt01tqgnbtyMOHTrkjqefYe3JePHFF6Oh6qWXXgqtCUp5qFKgGtwSpubd/5gtOfOJrXr3Ty5ILTn9sc07fNbqnrpkq975NxewGl/9n7bwiQtWvaTZIrl5BCsAADKYRqF8oDp+/Lib8vNtenz06NFosGpvxEr1Gj1SaIqndv30x9Jj1QZfL8zEiRPdqJkC1OnTp6OByjtz5oxrU011dXWr/VMWqiI5uZY3tNIq6tfY3AMvWfPrf7A1l/9sDScv28j6VZZXVmFZeQWWXTDIhoyrtak7D1vjhS9s7Xv/bk2nf2kTN++3wRNnWKSlPSfk+AAAIH1p4ETTez6g7Ny5023btWuX7d692z3etGlTtF21iQZbNMtVUVFhI0aMaEXtPlRpBEzbVJtoXZTann322ejriwLU1q1bHT0Oth07dqzV8bocqhSmckrK3Zqp2vuP2NKzv7GVb/wvm/fEJatcfJcVjBhrkZYwFfzD5GifIaVWXDvHJm151Bovfmmr3/sPm3vkoo1q3GSFVROvhauWuuBrAQCA9KRRIk33BYOJ9+CDD7oa/fTbVNveyFIijz32mDuOfoa1x1NAevzxx+3ixYtuP4WooqKiaLse+2ClmiNHjqQ2VCn4lFTPtCktYarpjX9103pLT1626g27bfD4KS1hKj9xylRbcblVLmy2uoOnbcWFL6zprT/agmNvW9Wyeyx/aKVlJ9gfAACkB32CTtNmPjR5+/bts4KCAluxYoWdPXs2ul212ifsWMmor693IUg/w9rDKLP4Kcjt27e3ateIldqeeeaZ0HzT6VClNVCjm+6zxou/s9WX/2zLL/zO5hw+a1UzW958fkHoPm3RGyuuGGWT733IFp644oKV1mEtfv59Kxg+6lr4CtkPAACkh7BQdeHCBaupqbHS0tKYQCUdDVXFxcUuRO3YsSO0PRnKIwpMen0FqPj2bglVGu6qWrrWlrz0Czc6NffIBSufvsBy8gtdAAp7ofZoH92/qnDYSJuw/se28vV/ccFq9r5jlldaHroPAABID2HTf5pG06f/Tpw4EbNdOjr9p3VT/phh7e1RttGUXrLTf5oqTMn0X1bLLznzkeds1bv/Zisu/s5qN+62wuLSToWpeApWBS3BqmbbYy6wrbjwW8sfMT60FgAApAdlhOBCddFIlRaqix4H2zqyUF3hy4cq0eN4ySxU1+Lz4HtQiGproboWtacmVGVl2/xn3nL3m2p663/b/MOvWFVdo0WGlHVpDVRObp4VlFfa8PkrbNZjr7hpRY1W5Y+uCa0HAADpI3hLBdFtC3xb8BYGHb2lgqYJFZz8/toWL5lbKug2CZp2VIDS7RP88Ty9R7WpRrdfiN+/U6FqYEuoWnDiqq398L9tzdW/uE/uabqueutBKxo72d02Idl1UG7ar4XuvD68dpbN3X3MVr72z+5moWs//Jt7jfwxk0P3BQAA6SV480+NTi1fvtzxI1Vq68zNP4OhKqy9M4KjU7oRaFhNUJdD1eLTH9v8o2+42yg0v/9f7ueUnYeseMwky81LfENPtenO60WVo23mnn9wYWptS0hb8eo/2YLjl90oFaEKAIDMolEoTe9p3ZRGfUSPta29Eaq2lJeXu0CmdVFh7Z2h0S0fqvSVNWE1QV0OVeXzGi13SKmNWnKXLX35U3en9NXv/MkWv/Ch1d73qOWVDA0dtVKgyikeaqNWbG7Z76s7r696/opNaFhlkaJiazj9CaEKAIAM5AZWslP3hcraV8dJtG6qo3Qs//6SOW6XQ1XhhOnXpu9y8iynZJhVLGy2eU/93E0J6mtopu87aSNatuUOKbsWpFr2zysdZsPmr7Spu561xWd+7YLY4lMftNStsfyy4W70Kis7YvXPfUCoAgAAaaHLoSoYeFxKzCuwQWNqbNK9D9mylz92o0/Lz31mkzbtt9I7F9nQOYtt8raD7rsAm978Vzd1OGLpvVYwYpxF8r+683pbrwEAANAXpTRUefp6mbwhJTZ87hKbvPOINbz4kRu5Ur0Wn2txe8Opf7TalraSKfMsO+5rbES3bSib32QjV22zAYNKYtoAAAD6mm4JVZ6b7issshGL1lr9P1x29Rq5qnv2Xausa7LcouKY2mzNqQ4c2GKA++mDVqQlYPlt2VkDLRLp2rwrAABAqnVrqBIXliIRG1Q9y9Vr8XlkUHHLtq/uvK6fo/KzbO/ILHtjcrZdnZJtx0dfC1FqHzPwVrftcm22XayOWENJlhVkd/77gAAAAFKt20OVpzrVa/G5FqEH2zRCpUD1+awC++uCQvvvFgpRGp1S++TIrW7b31r8pa7QXp+SZyOzb485BgAAQG/q8VCl/bR/sE0jUhqhUqB6syUwbS4f4EanNO2n9rw7+ll9YT87MjbH/jS/wP48v9CqI7fFHAMAAKA39ZFQNcCNTGk0SoGqMNJ6ai8nErFReQPts5l5rk6jV/E1AAAAvaXToarOLTz/mxWOn5bUovFkQ1WisJRsHQAAQE/rVKjSFyrPfeo19/18I5bcbZG8/NC6IEIVAADIZJ0KVfo039Ttj1rT63+wBc++YyOX3u3ukq67pYfVS1uhKjit9591hVaTYK2U1l69+fe1V21NEwIAAPSGpEKVXzAefZ6TY4UVVTZ91zO28vV/sSWnf2U1W39qZVPmWn5xWeh3/YWFKi1AXxhYgH6+OmKVWf1a7etFsrPs/uED7POZ+TEL2sNqAQAAelJSoUrTbvHbdNf0orGT3VfOLHr+H69919/F39nMrY/YkNETbWBOnkUiX4WrsFClKTxN5XkPVWbZkKw7ovvE05cZzh7U396uzYnuo+nAsFoAAICelGSounYTzlBFxVYxf4XN/9kb1vjq792XIzde/NKqN++zvLIKN1WoheyF46a5UFV/8gMb+PeRL40yfTQtx/4w59r9qR4ZmWXFiUJVy371gwfYlSm5bmRLU4a6SWhYLQAAQE9KKlQl+nSf2jQiFSkYZMPnLre6o2+6Uaumt/+P+86/KdsP2qCKKhvZsM6FqiUvf2r5JeXX9msJSQVZA6yhNOKC1e9nF9iE7ARrqrIG2ukJ2fYf8wvdlKHWYiUMfAAAAD2kUwvVwygkZSlcDS61qvpVtvr5y+57/la+/s8268BpW3jiigtVq979d5ux+7gNyMmL7qdgpRErjVbVJPz030B7rzbb/l9LndZiaZF7WB0AAEBPS1mo8twIVF6BFY+ZZGNWbrb64+9a01t/tOYP/upCle5t1fz+f9mAvEHRfbilAgAASHcpD1WewlVOQaGV1M6xCRt227S9J2zGoy+2eMGm7XomOlIlwbCkr6MJG4EKjmgRqgAAQF/TbaEqKEc3By0us5yyyhYVljtosAtJvl3Tepdrs90XJgfXSvma+LVXmv4jVAEAgL6kR0KVuGnBSMQJBirRAvSL1RH7S11hzKf6/CL0+E8J/nFeoU2K/DDmGAAAAL2px0JVIpFItjWUZNnrU/Lsz/O/uv+Uvz+Wv5+VRqgUqPaPzrGS7P6tjgMAANBb+kSocuulsrNsZPbtVh25zYUojU75O7nrzuvaJhqhUqDK+XsbAABAX9AnQhUAAEC6I1QBAACkAKEKAAAgBQhVAAAAKUCoAgAASAFCFQAAQAoQqgAAAFKAUAUAAJAChCoAAIAUIFQBAACkAKEKAAAgBQhVAAAAKUCoAgAASAFCFQAAQAoQqgAAAFKAUAUAAJAChCoAAIAUIFQBAACkAKEKAAAgBQhVAAAAKUCoAgAASAEXqr7+9a8DAACgC1yoysrKAgAAQBcQqgAAAFKAUAUAAJAChCogA91xxx1222232S233GI33ngjAKCL1J+qX1X/GtbvCqEKyDA64dUB3HzzzXbrrbfaD3/4QwC4Lqk/TJUf/ehH1q9fv+hxw/pfQhWQYXQlpUAV37kAwPUmPhilgoKV+tmw/pdQBWQYDVEzQgUA3ROqNGKlfjas/yVUARlGU39hnYvo6qotYfUAkM7CQlEqqJ8N6397JVRFIhHLzs4ObeusQYMGueOGtQHXk7BQpdC0atUq27FjR5saGhrs9ttvb7UvAKSrsEDk9e/f34YPH24zZsywuXPnup96ru1h9UF9IlRVVVXZkiVLrLm52dasWWMLFiyw0tLS0NqOyMnJccfTHySsvS3aT2EsrA1IV22FqrAgFW/hwoWhwWr69OnW1NQUpfN45syZNnjw4Fa1mSw/P9/q6+utsbGxVVv832j58uU2e/Zs18fE1wLoGWGBSPLy8mzx4sXO1KlTraamxv3029Qetp/X66FKgWr16tU2btw41xGXlJTYnXfe6bYVFRWF7tMRlZWVHQ5IFRUV7vXD2oB0lUyo2rZ9m9298R67p8VdG+6yezfda9u3b48Gq/jpQIWDuro6d96KruYUItauXWtjxoyJqc1EWpg6fvx4d0Gov49+7/ia+L/RsGHDXPBUrcJYfD2A7hcWiBSYNHKvczqsXdvVnihY9Xqo0tXd5MmTW23XkJs65fjtCkjl5eWhQUmhTL+sqHPXT78tvkZTgkOHDnWdXPAYBQUFLuBphKu4uJgRK2SM9kKVwtOGzRusuq7Gauun2Ng542zW0tm2ddvWaE1YqNJFUHCb6MJk3bp1VlhYGN2m827AgAExdRoV1pR/fI0WfOpcTRQ6VDtkyBDXkale5258jY6vGv3+8W2er1GfEN/W3vtR29KlS10/od+5rVAV9jfStOqUKVNabU/0frxk3rP+LvE1fj9NYwT3Aa43wSAkOic0EtVWoPLUrrq2pgJ7PVRpqk9XtmFtQeoM1DnpilBD7Ao9utoLrsHS1IOG6fwwe1lZmds2duzYmJqJEye6jnDFihVuREp/IB+e1LZy5cro66gz9PsC6SxRqNq2bZs139Ns0xZNt7IpQ23YtOE2uKbYxswea6vvWh0NVsmGKlm0aJE7H/3zZcuW2ahRo2Jq5syZY7W1tTE11dXV7twUBTON8gSnHhUY1G8owKhG57pGvFXraxSC9N58jdq0DMDfS0bUAQZr9FO/i/b1Ne29Hx3PP+5oqFK/p9/fP0/m/ST7njVloX5M1q9fb6NHj3YXr7rKVp/nZwL8PsD1xocgTwMxygLBbQpOXnC76lQf3Ob1eqhSR6SApI5Cb1JXVWF16hAViHz4UYegTkWp0deoXesVdCUW3BYfqtQJawhezxXWNCqmoXtfw/QfMlGiUKXQtHTNUiufNswi43MtZ0Jey88c97xhVYPdt/W+DocqhREFK/882VCl81rnpZ5rZEgXOCNHjozW6DU1yjNw4ED3XCNUCg/BUDVt2jR3ruv31nON3qhGfYGvUagJ1qjvUf/R0ffjdSRUKYz58OO3JfN+kn3PuiD0I1TqI/W3UcD1IVB93vz586P7ANeb+DCkjKFzxD9XkNK5pSygn8FgpTrV++dBvR6qRFNw6nj8FZQeB4OROjRtV6cV3E818QFKI03BGm2LD1Xq4II1CmrqKDXdp+eEKmSiRKHKjVZt32aLVy+xUTOrbPzcCTZqVpUtX9votvuajoQqjY4EF24nG6p0Dgdr9Bp+mkyjVAoI6jOCNT446LE6NoUb9Q3BGvUDOv+DNRrNDtbowk4XeX70qb33E5QoVCkE6vVl0qRJ7kpXF3c++CTzfjr7ntV/arQqOBWrUBi2qB64Xuh8CtKFhi5y/HOFKJ9JJBiqVKd6/zyoT4QqTx2MOghdQWmY2q930k+FHl0lxu8TFB+gwrbpeXB0y9NVrDoaPSZUIRMlClVaSzVj8Z1u2i9vYr4Nqi5q+Vng1lWt33BXp0KVRqoUJvzzZENVfI2uCEWPdQGkgKDfJ1ijoOFDlUauVKP1mpom9DTlr/ChGgWMsOOoD9J2PzLV3vsJShSqFKA0bSjqaxRogq+dzPvp7Hv27Rqt89v0AR6NwPnnwPUmPgzpnM6Ykaow8+bNc2um9FgjSApV6lTi64KSDVUTJkyIqRF1eiNGjHCPCVXIRIlC1aYtm6xuxQKrmFFpRTVDrGxquZXWltmdS2baPZvu6VSoUqjRdJV/HhZQdLXXkVDlA5OCQrBG0/nxoUoXSdoepA+5JDqOH9VJdagK/o10uxi9RnBNUzLvp7PvWfVqJ1QBX4kPQxrQSfs1VTrZdSWrji6+TVews2bNitYp5KijCNZov+C+yYYqHTtY40Obv4WDOkdd0QZrgHSXKFTpk38bN2+0KQun2ri5423S/Ek2ub7WhS1/S4WOhCoFGP1HHgwOWl8VP5WmANCRUKUpLvUFWpgeX+NDlRZt63yOnybTGiw/ReZr9D6DNQpiOr5f0N4doUo0YqXQ6Z8n8346+54JVUBr8WFIwUlhSTNZ8W1BalddfNDyen2kSgFHw/LqKHSlpeF9dbzqPJQEfZ3WMGjIXB2lPvGn2yH4T/34mmRDlfbT7RrU2ej1tEhdU46+RleSen11kuqI/HYgnSUKVbKxJUDNa5xvc5bNdbdSWLSqISZQtRWqNNqkqXmNpOgCResNFC7iA5TCk6b1dQ6rViPROhc7EqpE57POT936RMfS/trPhyrRNvUXCnUKG+pbdO4HR870PlXj1xqpVu9HI9m+prtClZ/G9CNnksz76cx7JlQBrYUFIp0jaX+fqtzcXNfhaGRIHaWo0wiGJVGQ0id6VOep4wzWJBuq1NnrKtG/pgJVfHhSiFO71mIEtwPpqr1QpQC1+b7NzqYWW7ZuiQlUEhaq9B+2p//gdT7FjxKJFplrhEZ1Ch/qoDq6psrTVL0uhlSv/fV6wVClESmdw3odbddr6r2q0/M1Clva19eoL9A6MD/iI90VqkQj8Tq+f71k3k9n3jOhCmgtPgx5Ok80EiVaO6ULGf302xIFKun1UOXpxNdVl67gwto9XXGqTj/D2tsTDFl6rUSL3/WeOvs6QF/TVqjSlVd8eAqjuvhQ1RnqePw0XGcFQ4RopFsXQcFtoikzncN6zfg2z9foZ1h7T0vm/fS19wykG507wTAUpKk9zZTp4kkj8fqp521N+Xk6Zp8JVT0lbDQLuB6EhSpPYak9Yfv1Bo1AaepQnZie63fTqJU+3BJfCwBhEoWqziJUAdeRW265xW699dbQDiadaHRZ57GmwPwdwzWdH/y6GwBIRKPdYcGoK3TxqX42rP/N2FClIXNN64W1AZlMJ/zNN98c2sGkI53LmsInTAHoDAUrjS51ZdTK769jqX9VPxvW/2ZsqAKuV+oANDStEz8TRqwAoC9Qf6p+Vf2r+tmw/pdQBWQgnfB+iFodAACga9Sfql9tK1AJoQoAACAFCFUAAAApQKgCMpBuwNnVe0QBAGKpX1X/GtbvCqEKyDA64XXy65YEugO57roNAOga9afqV9W/thWsCFVAhtGVlE78sE4BANA16l/Vz4b1v4QqIMPoKooRKgDoHv47T8P6X0IVkGF0sod1BACA1CBUAdeJtkLVU089Zb/4xS+irly5YqdOnbIFCxaE1gMAwvVqqKqpqXGdd1uefvrp0P0AdFxboerkyZP28ssv24oVKxx9p96JEyfs448/tqlTp4buAwBorVdDVVFRkU2ePDlKnfv27dujzydOnBi6H4COSxSqnn322ZhtVVVV9v7777vzMbhd7rzzTlu2bJlNnz69VZvoC8sXL17sjB8/vsPtAJCuejVUxTt27Jg1NTW12j5kyBAbOXJkq+0lJSU2bNiw6PPKykr3Bau5ubkukI0ePdp92WpwH6+8vNzVFBcXh7YDmaajoeqDDz6wTZs2RbdNmDDBnnvuOfv8889d4NJPnbPjxo2L1ihsffTRR65d04i//OUvbenSpUm3A0A6S4tQpfBz8eJFt7I+uP3gwYPuSto/9/vrPwhNH549e9ZNISpA+Rp95PGhhx6y8+fPu/9MLly4YDt27LBIJBKtATJRolClsDRt2jRn3rx5dvToUXv77beturo6Wqdz6a233opOCc6YMcPee+89e+yxx6I12uenP/1p9Pn+/ftjAlt77QDQm5QdLl261Ca1h+3npUWokuPHj7v1Hv55aWmpC1rBKULtr7UhtbW17nlBQYHt2bPHDh8+HK3ZunWr/exnP3OjXHqu0a3nn3/eVq5cGa0BMlGiUPXll1/G+PWvf91qlOqzzz6zNWvWxOx7zz332CeffGJjxoxxz69eveqCUrAmqL12AOhNs2bNspdeeik0UGm72sP289ImVDU3N9uTTz4Zfd7Y2OiCVnB6T/vv3Lkz+lw0Pag/hn5Zhaxz5865q+9gjY7FonhkukShSueSpvFEFyr33nuv/eY3v3Hnk2r0SUCFrfiF61pXpe2+o9F+Cl+XL1925+uqVati6ttrB4DeVldXZ6+88kpMoNJzbQ+rD0qbUOXDUUVFhXv+xBNPuKvmYI3215qN4DZRupw9e7ZbJ6JjHDp0yA4cOBClqY4zZ8602g/IJIlCVdgU3MMPP+ym+/RYnYnCU/zidC1a13b99Nv0IZPNmzfbM888Y59++qk7v4L7tNcOAL1Naz21PEiZQT+TXfuZNqFKFIY0YjV8+HA39RdcKyXaPzhF6CkwzZw5Mxqq6uvr3ZV1kP5TiN8PyCQdDVUPPPCAWzOlxxrBUgC6++67Y2q2bNliv/rVr9yHQvTcn2e+XbdnUOjyn/Jrrx0A+gJ9OG79+vX26quvup96HlYXL61CVUNDg6vRCJVGmOLb1bZ79+6YbT5IKYjl5eW5xetajBus0acL9YnB4DYg0yQKVS+88IJboC666FBY0qf0HnnkkWidzjmtidJUoM4rnY8ffvihO+fUPmnSJDdl+OCDD7p2BSVN8alGz9tr968DAH1FW7eOaUtahSrdLkFrok6fPu069vh27a9RqYULF7qQNHToUDty5IhbGOtrNm7cGF0/ovVYmlbUeqrgpwiBTJQoVGm0yNOtErTmae/evdEF6KLH+tCH2n/729+6gPToo4/GBKJ169a5kKSaL774wo106X5UybYDQDpLq1Aluh2CFoxp0Xl8m99fH/H2c6G60h48eHC0Jicnx63nUDhTjaYRdczCwsKYYwGZpq1Q1VEaYdI0XvD+VEGaCtTtFtq6wmuvHQDSVZ8KVcnQOo/4T/h5ClWaktBjrbfStF58jaepQE0JEqZwvUhVqAIAhEubUKX7UunKVjft1BVyWE0wVAGIRagCgO6VNqFK6550Y0/dUyqsXQhVQNt0sutbCcI6AgBA16h/TZtQpa+Raet7/Dyts9KaqbA24Hp3++23u69pCusMAABdo/5V/WxY/9tn11QB6JwBAwa4q6iBAwe6LxIP6xQAAB2j/lT96ne/+13Xz4b1v4QqIAPpKuqmm25yJz8AIDXUr7Y1SiWEKgAAgBQgVAEAAKQAoQoAACAFCFUAAAApQKgCAABIAUIVAABAChCqAAAAUoBQBQAAkAKEKgAAgBQgVAEAAKQAoQoAACAFCFUAAAApQKgCAABIAUIVAABAChCqAAAAUoBQBQAAkAKEKgAAgBQgVAEAAHRZlv1/3h36WZWA5e8AAAAASUVORK5CYII=" width="597" height="162"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Room type dropdown when configuring a room in the level graph editor</div></div><p>Next, we need the logic that decides which set of room templates is used for a given room type. I use a simple switch statement here, but you can use anything you want.</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar" style="color:#cccccc;background-color:#242424"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#cccccc"><span class="token plain">namespace Edgar.Unity.Examples.Grid3D.Dungeon1</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">{</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    [Serializable]</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    public class Dungeon1RoomTemplates</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public List&lt;GameObject&gt; Basic;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public List&lt;GameObject&gt; Boss;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public List&lt;GameObject&gt; BossEntrance;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        /* ... */</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public List&lt;GameObject&gt; Hub;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public List&lt;GameObject&gt; GetRoomTemplates(Dungeon1Room.RoomType roomType)</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            switch (roomType)</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                case Dungeon1Room.RoomType.Basic:</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                    return Basic;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                case Dungeon1Room.RoomType.Boss:</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                    return Boss;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                case Dungeon1Room.RoomType.BossEntrance:</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                    return BossEntrance;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                /* ... */</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                case Dungeon1Room.RoomType.Hub:</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                    return Hub;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                default:</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                    throw new ArgumentOutOfRangeException(nameof(roomType), roomType, null);</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The last step is to put everything together and implement a custom input setup logic by creating a class that inherits from <code>DungeonGeneratorInputBaseGrid3D</code>. The implementation below might look intimidating, but there is not really that much going on. The main idea is that you:</p><ul><li>go through all the rooms in the level graph,</li><li>cast each room to our custom room implementation type,</li><li>compute room templates for a given room based on its type,</li><li>and add the room to the level description which is later given to the dungeon generator.</li></ul><p>Something similar also happens with the corridor rooms and room templates.</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar" style="color:#cccccc;background-color:#242424"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#cccccc"><span class="token plain">namespace Edgar.Unity.Examples.Grid3D.Dungeon1</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">{</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    [CreateAssetMenu(menuName = &quot;Edgar (Grid3D)/Examples/Dungeon 1/Input setup&quot;, fileName = &quot;Dungeon 1 Input Setup&quot;)]</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    public class Dungeon1InputSetup : DungeonGeneratorInputBaseGrid3D</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public LevelGraph LevelGraph;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public bool UseCorridors;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public Dungeon1RoomTemplates RoomTemplates;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        protected override LevelDescriptionGrid3D GetLevelDescription()</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            // Make sure that level graph is not null</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            if (LevelGraph == null)</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                throw new ConfigurationException(&quot;The LevelGraph field must not be null.&quot;);</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            var levelDescription = new LevelDescriptionGrid3D();</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            // Setup individual rooms</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            foreach (var room in LevelGraph.Rooms.Cast&lt;Dungeon1Room&gt;())</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                // Get room templates</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                var roomTemplates = RoomTemplates.GetRoomTemplates(room.Type);</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                if (roomTemplates.Count == 0)</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                    throw new ConfigurationException($&quot;There are no room templates for the room type \&quot;{room.Type}\&quot;.&quot;);</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                // Add room to the level description</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                levelDescription.AddRoom(room, roomTemplates);</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            // Add passages/corridors</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            foreach (var connection in LevelGraph.Connections.Cast&lt;Dungeon1Connection&gt;())</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                // Handle both corridor connections and direct room-to-room connections</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                // This is useful for the &quot;Extra stuff&quot; in the tutorial</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                if (UseCorridors &amp;&amp; connection.IsCorridor)</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                    var corridorRoom = (RoomBase) CreateInstance&lt;Dungeon1Room&gt;();</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                    levelDescription.AddCorridorConnection(connection, corridorRoom,</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                        RoomTemplates.Corridors);</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                else</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                    levelDescription.AddConnection(connection);</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            // Just a helper to make sure that directed graphs work properly</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            InputSetupUtils.CheckIfDirected(levelDescription, LevelGraph);</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            return levelDescription;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>When the implementation is ready, you have to create an instance of the input setup scriptable object. Then, inside the dungeon generator component, switch input type to <em>Custom Input</em> and assign the scriptable object there. The result should look like this:</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/input_setup-6c374b89d8682492166b64fb9dfff8be.png" width="581" height="632"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Custom input setup inside the dungeon generator component</div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="level-graph-1">Level graph<a class="hash-link" href="#level-graph-1" title="Direct link to heading">â€‹</a></h3><p>Now, we can come up with a more realistic level structure. The main idea is as follows: you enter the dungeon, have to make your way around a trap, then you arrive at a large hub with multiple exits. Two of the exists lead to social rooms like bedroom, storage or kitchen. Another exit leads to a branch which contains two rooms like treasure or prison. The last exit leads to the entrance of the boss room and then to the boss room itself, where you are going to face the bandit boss.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/level_graph_2-84fd89e628b096e2bc3a5fc7220c0821.png" width="1472" height="720"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">More realistic level graph</div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="results-1">Results<a class="hash-link" href="#results-1" title="Direct link to heading">â€‹</a></h3><p>The generated levels are starting to look quite nice.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/result_2_2-2a3ce5ca2753280a4cb8c4c1595420b3.png" width="1474" height="722"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Generated level</div></div><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/result_2_3-d892961361034db49f249ee0af9f16be.png" width="1475" height="720"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Generated level</div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="extra-stuff">Extra stuff<a class="hash-link" href="#extra-stuff" title="Direct link to heading">â€‹</a></h2><p>For this last section, I want to showcase some of the advanced stuff that you can do with the generator:</p><ol><li>disable corridors between some rooms</li><li>add a Skyrim-like shortcut from the boss room back to the entrance</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="disable-corridors-between-some-rooms">Disable corridors between some rooms<a class="hash-link" href="#disable-corridors-between-some-rooms" title="Direct link to heading">â€‹</a></h3><p>The default behaviour is that you either have corridors between all rooms or not have corridors at all. But if you are using custom input setup, there is no one stopping you from having corridors between some rooms and direct connections between other rooms.</p><p>Any why would you want that? For example, the boss entrance room is already something like a corridor, so why have another corridor between it and the boss room? Another example might be the area of social rooms in the level graph. I decided that I would like them better if they were closer to one another.</p><p>The setup is relatively simple because most of it was already done in the custom connection and custom input setup. In the custom connection, you just have to make sure that there is a checkbox that lets use choose if a connection should use a corridor or not.</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar" style="color:#cccccc;background-color:#242424"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#cccccc"><span class="token plain">namespace Edgar.Unity.Examples.Grid3D.Dungeon1</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">{</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    public class Dungeon1Connection : ConnectionBase</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        // Whether a corridor should be used or a direct room-to-room connection</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        public bool IsCorridor = true;</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>And in the input setup, we need a condition that either adds a corridor or a direct connection.</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx csharp"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar" style="color:#cccccc;background-color:#242424"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#cccccc"><span class="token plain">// Add passages/corridors</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">foreach (var connection in LevelGraph.Connections.Cast&lt;Dungeon1Connection&gt;())</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">{</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    // Handle both corridor connections and direct room-to-room connections</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    // This is useful for the &quot;Extra stuff&quot; in the tutorial</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    if (UseCorridors &amp;&amp; connection.IsCorridor)</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        var corridorRoom = (RoomBase) CreateInstance&lt;Dungeon1Room&gt;();</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        </span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        levelDescription.AddCorridorConnection(connection, corridorRoom,</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">            RoomTemplates.Corridors);</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">        levelDescription.AddConnection(connection);</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#cccccc"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="results-2">Results<a class="hash-link" href="#results-2" title="Direct link to heading">â€‹</a></h4><p>In the generated level below, you can see that there are no corridors between some neighbouring rooms.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/result_3_1-d5157a8834b755e8ba727ceab002e90c.png" width="1472" height="716"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Generated level</div></div><blockquote><p><strong>Note:</strong> When generating levels without corridors, you must make sure that it is possible to connect the rooms without the use of corridors.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="skyrim-like-shortcut">Skyrim-like shortcut<a class="hash-link" href="#skyrim-like-shortcut" title="Direct link to heading">â€‹</a></h3><p>The next thing I wanted to experiment with was adding a Skyrim-like shortcut that would lead from the boss room back to the entrance.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="modified-boss-and-boss-entrance-room-templates">Modified Boss and Boss entrance room templates<a class="hash-link" href="#modified-boss-and-boss-entrance-room-templates" title="Direct link to heading">â€‹</a></h4><p>The first step is to make sure that we can add additional exits to the Boss room while still making sure that the entrance uses the central door. To do this, I decided to create a special <em>Boss</em> door socket (orange colour in the screenshot below) so that the rooms connect properly. </p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/boss-546a240b78cf44ed71d7bb5e358db6de.png" target="_blank"><img src="/Edgar-Unity/assets/images/boss-546a240b78cf44ed71d7bb5e358db6de.png" alt="image" width="1182" height="555" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Boss room with special socket</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/bossentrance-9b0eaa3541e7a81b2b95dbbccbec5780.png" target="_blank"><img src="/Edgar-Unity/assets/images/bossentrance-9b0eaa3541e7a81b2b95dbbccbec5780.png" alt="image" width="1182" height="555" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Boss entrance room with special socket</div></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="intermediate-results">Intermediate results<a class="hash-link" href="#intermediate-results" title="Direct link to heading">â€‹</a></h4><p>Below we can see some intermediate results using this new setup with the shortcut from the Boss room. <em>Spoiler alert</em>: this setup does not perform very well because it is quite hard for the generator to find a suitable layout for the loop/cycle that was formed by adding the shortcut path. </p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/level_graph_4-7ef26bcdbd59b1de8dcc804db84ece8b.png" target="_blank"><img src="/Edgar-Unity/assets/images/level_graph_4-7ef26bcdbd59b1de8dcc804db84ece8b.png" alt="image" width="1474" height="717" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Level graph with a new path from Boss to Entrance</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/result_4_1-817b5d70d2b750ea97c5be06bba06d79.png" target="_blank"><img src="/Edgar-Unity/assets/images/result_4_1-817b5d70d2b750ea97c5be06bba06d79.png" alt="image" width="1474" height="718" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Generated level</div></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="better-performance-and-cave-room-templates">Better performance and cave room templates<a class="hash-link" href="#better-performance-and-cave-room-templates" title="Direct link to heading">â€‹</a></h4><p>The intermediate results have 2 problems:</p><ul><li>the generator sometimes timeouts</li><li>I want the shortcut rooms to be in a different style than the ordinary rooms</li></ul><p>The reason why the performance is not the best is that there is not much freedom in the loop that we are trying to lay out. The loop always starts with a small trap room, then a large hub room, then boss entrance, boss room and finally the two shortcut rooms. Aside from the shortcut rooms, all the other rooms have a fixed shape - there is only a single room template for each one. One approach to improve the performance would be to add more room templates with different shapes so that the algorithm has more options. But in this tutorial, I want to show you a different approach - optimizing the shortcut rooms in order to improve the performance.</p><p>First, I created a couple of darker cave-like corridors. They are just like normal corridor, but with a single difference - they use a different door socket so that they can be only connected to other cave-like rooms. Because the corridor use different walls, you also have to create a new door prefab for them.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/dcorridor_1-1174e15af775fa4eca32da5a1cbe746c.png" target="_blank"><img src="/Edgar-Unity/assets/images/dcorridor_1-1174e15af775fa4eca32da5a1cbe746c.png" alt="image" width="1182" height="555" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Cave corridor room template</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/dcorridor_2-5a66675007e989a4e6a43773881d26f5.png" target="_blank"><img src="/Edgar-Unity/assets/images/dcorridor_2-5a66675007e989a4e6a43773881d26f5.png" alt="image" width="1182" height="555" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Cave corridor room template</div></div></div><p>Next, I created cave-like room templates for normal rooms. These room template might look quite weird at first as they do not have any walls - they have doors all over the outline. There are two reasons for that:</p><ol><li>higher number of possible door positions improves the performance of the generator</li><li>it fits the style of a more organic cave as it will be harder to distinguish room borders</li></ol><p>This approach works because all the unused door positions will be filled by door blockers.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/croom_1-a41e30a9ed9568d10602bffdec2808de.png" target="_blank"><img src="/Edgar-Unity/assets/images/croom_1-a41e30a9ed9568d10602bffdec2808de.png" alt="image" width="1182" height="555" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Cave room template</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top;text-align:center"><a href="/Edgar-Unity/assets/images/croom_2-fc11462835cb0dfaaa6e6a8184169055.png" target="_blank"><img src="/Edgar-Unity/assets/images/croom_2-fc11462835cb0dfaaa6e6a8184169055.png" alt="image" width="1182" height="555" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Cave room template</div></div></div><p>The last room template that we need is a corridor that can connect a normal room to a cave room:</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/corridortransition-d7366a547e798e9fc222c3d01b87b2f7.png" width="1182" height="555"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Transition corridor from a normal room to a cave room</div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="level-graph-2">Level graph<a class="hash-link" href="#level-graph-2" title="Direct link to heading">â€‹</a></h4><p>Next, the level graph has to be changed so that the new cave rooms are used. All the corridors can be put into a single pool of corridor room templates because the door sockets will make sure that the correct corridor is always used.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/level_graph_5-cf3d3b070c628bc5c3f7e4347fe563f9.png" width="1477" height="720"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Final level graph containing 2 cave rooms</div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="results-3">Results<a class="hash-link" href="#results-3" title="Direct link to heading">â€‹</a></h4><p>You can see some final results below. The performance is now quite good, the generator is usually able to produce a level in under a second.</p><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/result_5_1-710d061a4dcabc00c5062a229dd9bcb7.png" width="1475" height="721"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Generated level</div></div><div style="text-align:center"><div class="image-inner"><img src="/Edgar-Unity/assets/images/result_5_2-501351a45df8b8252479275cb45d07cb.png" width="1473" height="720"></div><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Generated level</div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/OndrejNepozitek/Edgar-Unity/tree/docusaurus/docs/3d/examples/dungeon-1.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Edgar-Unity/docs/next/3d/examples/basics/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Basics (step-by-step tutorial)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Edgar-Unity/docs/next/3d/guides/different-elevations/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Different room/door elevations</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#simple-example" class="table-of-contents__link toc-highlight">Simple example</a><ul><li><a href="#models" class="table-of-contents__link toc-highlight">Models</a></li><li><a href="#blocks" class="table-of-contents__link toc-highlight">Blocks</a></li><li><a href="#generator-settings" class="table-of-contents__link toc-highlight">Generator settings</a></li><li><a href="#room-template" class="table-of-contents__link toc-highlight">Room template</a></li><li><a href="#door-prefab" class="table-of-contents__link toc-highlight">Door prefab</a></li><li><a href="#corridor" class="table-of-contents__link toc-highlight">Corridor</a></li><li><a href="#level-graph" class="table-of-contents__link toc-highlight">Level graph</a></li><li><a href="#results" class="table-of-contents__link toc-highlight">Results</a></li></ul></li><li><a href="#real-life-example" class="table-of-contents__link toc-highlight">Real-life example</a><ul><li><a href="#additional-room-templates" class="table-of-contents__link toc-highlight">Additional room templates</a></li><li><a href="#custom-input-setup" class="table-of-contents__link toc-highlight">Custom input setup</a></li><li><a href="#level-graph-1" class="table-of-contents__link toc-highlight">Level graph</a></li><li><a href="#results-1" class="table-of-contents__link toc-highlight">Results</a></li></ul></li><li><a href="#extra-stuff" class="table-of-contents__link toc-highlight">Extra stuff</a><ul><li><a href="#disable-corridors-between-some-rooms" class="table-of-contents__link toc-highlight">Disable corridors between some rooms</a></li><li><a href="#skyrim-like-shortcut" class="table-of-contents__link toc-highlight">Skyrim-like shortcut</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Edgar-Unity/docs/introduction/">Introduction</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/OndrejNepozitek" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/syktZ6VWq9" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://ondra.nepozitek.cz/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/OndrejNepozitek/Edgar-Unity" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 OndÅ™ej NepoÅ¾itek</div></div></div></footer></div>
<script src="/Edgar-Unity/assets/js/runtime~main.8331c467.js"></script>
<script src="/Edgar-Unity/assets/js/main.d5a6461c.js"></script>
</body>
</html>